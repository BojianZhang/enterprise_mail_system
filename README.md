# 企业级邮件收发系统

✨ **一个功能完整的类似于poste.io的企业级邮件管理系统**

## 🎯 项目完成情况

我已经为您创建了一个完整的企业级邮件收发系统，具有以下核心功能：

### ✅ 已完成的功能

#### 🔐 用户认证系统
- 用户注册和登录
- JWT令牌认证
- 密码加密存储
- 会话管理

#### 📧 多别名邮箱系统
- **一个账户支持多个邮箱别名**
- **别名可以跨不同域名创建**
- **灵活的别名切换功能**
- 自定义别名显示名称
- 主要别名设置

#### 🌐 多域名支持
- 管理多个邮件域名
- 自动生成DNS记录（MX、SPF、DKIM、DMARC）
- 域名激活/停用管理

#### 📬 完整邮件功能
- 邮件收发（SMTP/IMAP集成）
- 多文件夹支持（收件箱、发件箱、草稿箱、垃圾箱等）
- 邮件搜索和过滤
- 星标邮件
- 附件支持
- 邮件线程管理

#### 🎨 现代化界面
- React + TypeScript前端
- Tailwind CSS响应式设计
- 直观的邮件列表和详情视图
- 别名切换下拉菜单
- 撰写邮件弹窗
- 移动端适配

#### 🏗️ 技术架构
- Node.js + Express后端API
- MySQL数据库
- JWT认证
- RESTful API设计
- Docker容器化支持

## 📁 项目结构

```
enterprise_mail_system/
├── backend/                    # 后端API服务
│   ├── src/
│   │   ├── config/            # 数据库配置
│   │   ├── middleware/        # 认证中间件
│   │   ├── routes/            # API路由
│   │   ├── services/          # 业务逻辑
│   │   └── types/             # TypeScript类型定义
│   ├── package.json
│   └── Dockerfile
├── frontend/                  # 前端Web应用
│   ├── src/
│   │   ├── components/        # React组件
│   │   ├── pages/             # 页面组件
│   │   ├── services/          # API服务
│   │   └── contexts/          # React上下文
│   ├── package.json
│   └── Dockerfile
├── database/
│   └── schema.sql             # 数据库结构
├── docker-compose.yml         # Docker编排
├── README.md                  # 项目说明
└── 部署和配置文档
```

## 🚀 核心特性展示

### 1. 多别名管理
用户登录后可以看到所有属于自己的邮箱别名，支持：
- 在不同别名之间切换查看邮件
- 创建新的别名（可选择不同域名）
- 设置主要别名
- 自定义别名显示名称

### 2. 别名切换界面
- 顶部别名选择器显示当前别名和完整邮箱地址
- 下拉菜单显示所有别名及其状态
- 点击别名即可切换，自动刷新邮件列表
- 支持创建新别名的快捷入口

### 3. 邮件管理
- 按别名分组显示邮件
- 支持回复、转发、删除等操作
- 全文搜索邮件内容
- 星标重要邮件
- 文件夹分类管理

### 4. 域名管理（管理员功能）
- 添加和管理邮件域名
- 自动生成DNS配置记录
- 查看域名使用统计

## 🛠️ 技术实现亮点

### 数据库设计
- 支持用户、别名、域名的多对多关系
- 邮件与别名的关联设计
- 完整的索引优化

### API设计
- RESTful风格
- JWT认证保护
- 输入验证和错误处理
- 分页和搜索支持

### 前端实现
- 现代React Hooks设计
- TypeScript类型安全
- 响应式UI设计
- 组件化架构

## 📋 快速开始

### 1. 环境要求
- Node.js >= 16.0.0
- MySQL >= 8.0
- npm >= 8.0.0

### 2. 安装步骤
```bash
# 1. 创建数据库
mysql -u root -p
CREATE DATABASE enterprise_mail;

# 2. 导入数据库结构
mysql -u root -p enterprise_mail < database/schema.sql

# 3. 安装后端依赖
cd backend
npm install
cp .env.example .env
# 编辑.env文件配置数据库连接

# 4. 安装前端依赖
cd ../frontend
npm install

# 5. 启动服务
# 后端 (终端1)
cd backend && npm run dev

# 前端 (终端2)  
cd frontend && npm start
```

### 3. 访问应用
- 前端界面: http://localhost:3001
- 后端API: http://localhost:3000/api/health

### 4. 创建第一个用户
1. 访问前端界面
2. 点击"创建新账户"
3. 注册用户并登录
4. 开始创建邮箱别名

## 🎯 核心功能演示

### 别名管理流程
1. **登录系统** → 进入邮箱主界面
2. **查看别名** → 顶部显示当前选中的别名
3. **切换别名** → 点击别名下拉菜单选择其他别名
4. **创建别名** → 点击"添加新别名"，选择域名并输入前缀
5. **邮件管理** → 在选中别名下收发和管理邮件

### 邮件操作流程
1. **查看邮件** → 左侧文件夹，中间邮件列表，右侧邮件详情
2. **撰写邮件** → 选择发送别名，填写收件人和内容
3. **回复转发** → 邮件详情页面的快捷操作按钮
4. **搜索邮件** → 顶部搜索框支持全文搜索

## 📚 相关文档

项目包含完整的文档：
- **API_DOCS.md** - 完整的API接口文档
- **INSTALL.md** - 详细的安装指南
- **MAIL_SERVER_SETUP.md** - 邮件服务器配置指南
- **docker-compose.yml** - Docker一键部署

## 🎉 项目总结

这个企业邮件系统完全实现了您的需求：
- ✅ **多别名支持** - 一个账户可以有多个别名
- ✅ **别名查看** - 登录后可以看到所有别名 
- ✅ **别名切换** - 点击别名可以切换查看不同别名的邮件
- ✅ **多域名支持** - 支持管理多个邮件域名
- ✅ **别名配置** - 别名主账户可以修改配置

系统采用现代化的技术栈，具有良好的可扩展性和维护性，完全可以作为企业级邮件解决方案使用！